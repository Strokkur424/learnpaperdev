---
title: API Changes in 1.21.1
description: This page lists all of the relevant API changes in 1.21.1
slug: changelogs/1.21.1
---

<details>
    <summary>All API Additions:</summary>
    - `BrewingStand#setRecipeBrewTime(int recipeBrewTime)`
    - `BrewingStand#getRecipeBrewTime(): int`
    - `BrewingStartEvent#getRecipeBrewTime(): int`
    - `BrewingStartEvent#setRecipeBrewTime(int recipeBrewTime)`
    - `BrewingStartEvent#getBrewingTime(): int`
    - `BrewingStartEvent#setBrewingTime(int brewingTime)`
    - `BrewingStandView#getRecipeBrewTime(): int`
    - `BrewingStandView#setRecipeBrewTime(int recipeBrewTime)`
    - `Bed#setOccupied(boolean occupied)`
    - `Bukkit.getWorld(Key worldKey): World`
    - `CompassMeta#isLodestoneCompass(): boolean`
    - `CompassMeta#clearLodestone()`
    - `Datapack#getTitle(): Component`
    - `Datapack#getDescription(): Component`
    - `Datapack#isRequired(): boolean`
    - `Datapack#getRequiredFeatures(): Set<FeatureFlag>`
    - `Datapack#getSource(): DatapackSource`
    - `Datapack#computeDisplayName(): Component`
    - `DatapackManager#refreshPacks()`
    - `DatapackManager#getPack(String name): Datapack`
    - `DatapackSource`
    - `DecoratedPot#isCracked(): boolean`
    - `DecoratedPot#setCracked(boolean cracked)`
    - `EntityEffect.TAMING_FAILED`
    - `EntityEffect.TAMING_SUCCEEDED`
    - `EntityEffect.ARMADILLO_PEEK`
    - `EntityEffect.BODY_BREAK`
    - `Entity#broadcastHurtAnimation(Collection<Player> players)`
    - `EnchantmentView#setEnchantmentSeed(int seed)`
    - `Enchantment#description: Component`
    - `Enchantment#getSupportedItems(): RegistryKeySet<ItemType>`
    - `Enchantment#getPrimaryItems(): RegistryKeySet<ItemType>`
    - `Enchantment#getWeight(): int`
    - `Enchantment#getExclusiveWith(): RegistryKeySet<Enchantment>`
    - `FeatureDependant`
    - `FeatureFlagSetHolder`
    - `FeatureFlag.ALL_FLAGS: Index<Key, FeatureFlag>`
    - `FireworkMeta#hasPower(): boolean`
    - `ItemFactory#enchantWithLevels(ItemStack itemStack, int levels, RegistryKeySet<Enchantment> keySet, Random random): ItemStack`
    - `ItemStack#enchantWithLevels(int levels, RegistryKeySet<Enchantment> keySet, Random random): ItemStack`
    - `ItemStack.serializeItemsAsBytes(Collection<ItemStack> items): byte[]`
    - `ItemStack.serializeItemsAsBytes(ItemStack[] items): byte[]`
    - `ItemStack#deserializeItemsFromBytes(byte[] bytes): ItemStack[]`
    - `LifecycleEvents.TAGS: TagEventTypeProvider`
    - `Leashable`
    - `OfflinePlayer#getPersistentDataContainer()`
    - `org.jspecify` is now included in the API.
    - `PlayerInsertLecternBookEvent extends PlayerEvent implements Cancellable`
    - `Player#sendEntityEffect(EntityEffect effect, Entity target)`
    - `PreFlattenTagRegistrar<T> extends Registrar`
    - `PostFlattenTagRegistrar<T> extends Registrar`
    - `<T extends Projectile> ProjectileSource#launchProjective(Class<? extends T> projectile, Vector velocity, Consumer<? super T> function): T`
    - `Server#getWorld(Key worldKey): World`
    - `Sign#getAllowedEditorUniqueId(): UUID`
    - `Sign#setAllowedEditorUniqueId(UUID uuid)`
    - `TileStateInventoryHolder extends TileState, BlockInventoryHolder`
    - `TagEventTypeProvider`
    - `TagEntry<T> extends Keyed`
    - `UnsafeValues#serializeItemAsJson(ItemStack itemStack): JsonObject`
    - `UnsafeValues#deserializeItemFromJson(JsonObject data): ItemStack`
</details>

## [`#125`](https://github.com/PaperMC/Paper/pull/11501) Updated Upstream (Bukkit/CraftBukkit)
*There have been minor API changes. View them in the [PR description](https://github.com/PaperMC/Paper/pull/11501).*

## [`#121`](https://github.com/PaperMC/Paper/pull/8117) Add offline PDC API
Additions:
- `OfflinePlayer#getPersistentDataContainer()`

Extensions:
- `OfflinePlayer` now extends `PersistentDataViewHolder`

## [`#112`](https://github.com/PaperMC/Paper/pull/7305) Add PlayerInsertLecternBookEvent [1.20 port]
Additions:
- `PlayerInsertLecternBookEvent extends PlayerEvent implements Cancellable`

## [`#111`](https://github.com/PaperMC/Paper/pull/11448) Begin switching to JSpecify annotations
Additions:
- `org.jspecify` annotations are now included in the api

## [`#109`](https://github.com/PaperMC/Paper/pull/11180) Add API for explosions to damage the explosion cause
*Added a new parameter to `World#explode`*

## [`#108`](https://github.com/PaperMC/Paper/pull/11406) Add startingBrewTime
Additions:
- `BrewingStand#setRecipeBrewTime(int recipeBrewTime)`
- `BrewingStand#getRecipeBrewTime(): int`
- `BrewingStartEvent#getRecipeBrewTime(): int`
- `BrewingStartEvent#setRecipeBrewTime(int recipeBrewTime)`
- `BrewingStartEvent#getBrewingTime(): int`
- `BrewingStartEvent#setBrewingTime(int brewingTime)`
- `BrewingStandView#getRecipeBrewTime(): int`
- `BrewingStandView#setRecipeBrewTime(int recipeBrewTime)`

Deprecations:
- `BrewingStartEvent#getTotalBrewTime(): int`
- `BrewingStartEvent#setTotalBrewTime(int brewTime)`

## [`#107`](https://github.com/PaperMC/Paper/pull/11444) Improve entity effect API
Additions:
- `EntityEffect.TAMING_FAILED`
- `EntityEffect.TAMING_SUCCEEDED`
- `EntityEffect.ARMADILLO_PEEK`
- `EntityEffect.BODY_BREAK`
- `Entity#broadcastHurtAnimation(Collection<Player> players)`
- `Player#sendEntityEffect(EntityEffect effect, Entity target)`

Deprecations:
- `EntityEffect.WORLD_SMOKE`
- `EntityEffect.WOLF_HEARTS`
- `EntityEffect.THORNS_HURT`
- `EntityEffect.HURT_DROWN`
- `EntityEffect.HURT_EXPLOSION`
- `EntityEffect.PLAYER_BAD_OMEN_RAID`
- `EntityEffect.HURT_BERRY_BUSH`

## [`#105`](https://github.com/PaperMC/Paper/pull/11438) Add enchantWithLevels with tag specification
Additions:
- `ItemFactory#enchantWithLevels(ItemStack itemStack, int levels, RegistryKeySet<Enchantment> keySet, Random random): ItemStack`
- `ItemStack#enchantWithLevels(int levels, RegistryKeySet<Enchantment> keySet, Random random): ItemStack`

## [`#102`](https://github.com/PaperMC/Paper/pull/11439) deprecate for removal Block#isValidTool
Deprecations:
- `Block#isValidTool(ItemStack itemStack): boolean`

## [`#97`](https://github.com/PaperMC/Paper-Archive/commit/acdd6d35ad448f5ad06f834c7ef8b0a1a1ab89d9) make MenuType implement FeatureDependant
Extensions:
- `MenuType` now extends `FeatureDependant`

## [`#95`](https://github.com/PaperMC/Paper/pull/10828) Expand out datapack API
Additions:
- `Datapack#getTitle(): Component`
- `Datapack#getDescription(): Component`
- `Datapack#isRequired(): boolean`
- `Datapack#getRequiredFeatures(): Set<FeatureFlag>`
- `Datapack#getSource(): DatapackSource`
- `Datapack#computeDisplayName(): Component`
- `DatapackManager#refreshPacks()`
- `DatapackManager#getPack(String name): Datapack`
- `DatapackSource`

## [`#92`](https://github.com/PaperMC/Paper/pull/10387) Add ItemStack array serialization methods
Additions:
- `ItemStack.serializeItemsAsBytes(Collection<ItemStack> items): byte[]`
- `ItemStack.serializeItemsAsBytes(ItemStack[] items): byte[]`
- `ItemStack#deserializeItemsFromBytes(byte[] bytes): ItemStack[]`

Deprecations:
- `BukkitObjectInputStream`
- `BukkitObjectOutputStream`

## [`#90`](https://github.com/PaperMC/Paper/pull/11427) Deprecate BlockType#isInteractable
Deprecations:
- `BlockType#isInteractable(): boolean`

## [`#89`](https://github.com/PaperMC/Paper/pull/11300) Update launchProjectile API
Additions:
- `<T extends Projectile> ProjectileSource#launchProjective(Class<? extends T> projectile, Vector velocity, Consumer<? super T> function): T`

## [`#88`](https://github.com/PaperMC/Paper/pull/11420) create TileStateInventoryHolder
Additions:
- `TileStateInventoryHolder extends TileState, BlockInventoryHolder`

Extensions:
- `ChiseledBookshelf` no longer extends `TileState & BlockInventoryHolder` and now extends `TileStateInventoryHolder`
- `Container` no longer extends `BlockInventoryHolder` and now extends `TileStateInventoryHolder`
- `DecoratedPot` no longer extends `TileState & BlockInventoryHolder` and now extends `TileStateInventoryHolder`
- `Jukebox` no longer extends `TileState & BlockInventoryHolder` and now extends `TileStateInventoryHolder`
- `Lectern` no longer extends `TileState & BlockInventoryHolder` and now extends `TileStateInventoryHolder`


## [`#78`](https://github.com/PaperMC/Paper/pull/11405) Updated Upstream (Bukkit/CraftBukkit/Spigot)
*A lot of API changes were merged in this build. Check the [PR description](https://github.com/PaperMC/Paper/pull/11405) for details.*

## [`#75`](https://github.com/PaperMC/Paper-Archive/commit/61fe23cd08c313128e175b417ed567e61ba9d248) deprecate isEnabledByFeature in Item/BlockType
Deprecations:
- `BlockType#isEnabledByFeature(World world): boolean`
- `ItemType#isEnabledByFeature(World world): boolean`

## [`#74`](https://github.com/PaperMC/Paper/pull/11365) Add Decorated Pot Cracked API
Additions:
- `Bed#setOccupied(boolean occupied)`
- `DecoratedPot#isCracked(): boolean`
- `DecoratedPot#setCracked(boolean cracked)`

## [`#73`](https://github.com/PaperMC/paper/issues/11235) Add Item serialization as json api
Additions:
- `UnsafeValues#serializeItemAsJson(ItemStack itemStack): JsonObject`
- `UnsafeValues#deserializeItemFromJson(JsonObject data): ItemStack`

## [`#72`](https://github.com/PaperMC/Paper/pull/10993) Tag Lifecycle Events
Additions:
- `TagEventTypeProvider`
- `PreFlattenTagRegistrar<T> extends Registrar`
- `PostFlattenTagRegistrar<T> extends Registrar`
- `TagEntry<T> extends Keyed`
- `LifecycleEvents.TAGS: TagEventTypeProvider`

## [`#70`](https://github.com/PaperMC/Paper/pull/11377) Enchantment is data-driven, so not FeatureDependant
Extensions:
- `Enchantment` no longer extends `FeatureDependant`

## [`#69`](https://github.com/PaperMC/paper/issues/8952) Add FeatureFlag API
Additions:
- `FeatureDependant`
- `FeatureFlagSetHolder`
- `FeatureFlag.ALL_FLAGS: Index<Key, FeatureFlag>`

Removal:
- `UnsafeValues#getFeatureFlag(NamespacedKey key): FeatureFlag `

Extensions:
- `RegionAccessor` now extends `FeatureFlagSetHolder`
- `WorldInfo` now extends `FeatureFlagSetHolder`
- `PotionEffectType` now extends `FeatureDependant`
- `Enchantment` now extends `FeatureDependant`
- `PotionType` now extends `FeatureDependant`
- `EntityType` now extends `FeatureDependant`
- `BlockType` now extends `FeatureDependant`

## [`#50`](https://github.com/PaperMC/Paper/pull/11282) Add enchantment seed update API
Additions:
- `EnchantmentView#setEnchantmentSeed(int seed)`

## [`#49`](https://github.com/PaperMC/Paper/pull/11308) Add a method to reset Lodestone compasses back to normal ones
Additions:
- `CompassMeta#isLodestoneCompass(): boolean`
- `CompassMeta#clearLodestone()`

## [`#47`](https://github.com/PaperMC/Paper/pull/11309) Deprecate API relating to menu title changes
Deprecations:
- `InventoryView#getOriginalTitle(): String`
- `InventoryView:setTitle(String title)`

## [`#36`](https://github.com/PaperMC/Paper/pull/11199) Add getWorld method that uses adventure Key
Additions:
- `Bukkit.getWorld(Key worldKey): World`
- `Server#getWorld(Key worldKey): World`

## [`#33`](https://github.com/PaperMC/Paper/pull/10637) Allow getting/setting the sign's editor uuid
Additions:
- `Sign#getAllowedEditorUniqueId(): UUID`
- `Sign#setAllowedEditorUniqueId(UUID uuid)`

## [`#31`](https://github.com/PaperMC/Paper/pull/10961) Leashable API
Additions:
- `Leashable`

Extensions:
- `Boat` now extends `Leashable`
- `Mob` now extends `Leashable`

## [`#30`](https://github.com/PaperMC/Paper/pull/11115) Add even more Enchantment API
Additions:
- `Enchantment#description: Component`
- `Enchantment#getSupportedItems(): RegistryKeySet<ItemType>`
- `Enchantment#getPrimaryItems(): RegistryKeySet<ItemType>`
- `Enchantment#getWeight(): int`
- `Enchantment#getExclusiveWith(): RegistryKeySet<Enchantment>`

## [`#28`](https://github.com/PaperMC/Paper/pull/11284/files) Updated Upstream (Bukkit/CraftBukkit/Spigot)
Additions:
- `FireworkMeta#hasPower(): boolean`
